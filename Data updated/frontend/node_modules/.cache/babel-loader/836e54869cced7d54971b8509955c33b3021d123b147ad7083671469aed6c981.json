{"ast":null,"code":"\n// last updated data\n// import React, { useEffect, useState } from \"react\";\n// import exportFromJSON from 'export-from-json';\n// import \"./Dashboard.css\";\n// import \"jspdf-autotable\";\n\n// const Dashboard = () => {\n//   const [userData, setUserData] = useState([]);\n//   const [csvData, setCsvData] = useState(\"\");\n//   const [currentIndex, setCurrentIndex] = useState(0);\n//   const [jobData, setJobData] = useState([]);\n\n//   useEffect(() => {\n//     fetchData();\n//     fetchDataa();\n\n//     const intervalId = setInterval(() => {\n//       setCurrentIndex((prevIndex) => prevIndex + 1);\n//     }, 5 * 1000); // 10-second interval\n\n//     return () => clearInterval(intervalId);\n//   }, []);\n\n//   const fetchData = async () => {\n//     try {\n//       const response = await fetch(\n//         \"https://jsonplaceholder.typicode.com/users\"\n//       );\n//       const jsonData = await response.json();\n//       setUserData(jsonData);\n//     } catch (error) {\n//       console.error(\"Error fetching data:\", error);\n//     }\n//   };\n\n//   const fetchDataa = async () => {\n//     try {\n//       const response = await fetch(\"http://127.0.0.1:5003/other_data\");\n//       const data = await response.json();\n//       setJobData(data);\n//       const csvData = JSON.stringify(data, null, 2);\n//       setCsvData(csvData);\n//     } catch (error) {\n//       console.error(\"Error fetching data:\", error);\n//     }\n//   };\n\n//   const downloadCSV = async () => {\n//     try {\n//       const response = await fetch(\"http://127.0.0.1:5003/latest_jobs\");\n//       const ldata = await response.json();\n//       let data = ldata.job_data;\n\n//       const fileName = 'download'\n//       const exportType =  exportFromJSON.types.csv\n\n//       exportFromJSON({ data, fileName, exportType })\n\n//     } catch (error) {\n//       console.error(\"Error fetching job data:\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"dashboard\">\n//       <h1>Dashboard</h1>\n//       {userData.length > 0 ? (\n//         <table>\n//           <thead>\n//             <tr>\n//               <th>Date</th>\n//               <th>File Name</th>\n//               <th>Company URL</th>\n//               <th>Download</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {jobData && (\n//               <tr>\n//                 <td>{jobData.date}</td>\n//                 <td>{jobData.filename}</td>\n//                 <td>{jobData.website}</td>\n//                 <td>\n//                   <button onClick={downloadCSV} className=\"btn\">\n//                     Download\n//                   </button>\n//                 </td>\n//               </tr>\n//             )}\n//           </tbody>\n//         </table>\n//       ) : (\n//         <p>Loading Job Data...</p>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Dashboard;","map":{"version":3,"names":[],"sources":["/home/muhammadhassanraza/Documents/data_scrap_front_end/Data_scraping_front_end/src/Component/Dashboard.js"],"sourcesContent":["\n// last updated data\n// import React, { useEffect, useState } from \"react\";\n// import exportFromJSON from 'export-from-json';\n// import \"./Dashboard.css\";\n// import \"jspdf-autotable\";\n\n// const Dashboard = () => {\n//   const [userData, setUserData] = useState([]);\n//   const [csvData, setCsvData] = useState(\"\");\n//   const [currentIndex, setCurrentIndex] = useState(0);\n//   const [jobData, setJobData] = useState([]);\n\n//   useEffect(() => {\n//     fetchData();\n//     fetchDataa();\n\n//     const intervalId = setInterval(() => {\n//       setCurrentIndex((prevIndex) => prevIndex + 1);\n//     }, 5 * 1000); // 10-second interval\n\n//     return () => clearInterval(intervalId);\n//   }, []);\n\n//   const fetchData = async () => {\n//     try {\n//       const response = await fetch(\n//         \"https://jsonplaceholder.typicode.com/users\"\n//       );\n//       const jsonData = await response.json();\n//       setUserData(jsonData);\n//     } catch (error) {\n//       console.error(\"Error fetching data:\", error);\n//     }\n//   };\n\n//   const fetchDataa = async () => {\n//     try {\n//       const response = await fetch(\"http://127.0.0.1:5003/other_data\");\n//       const data = await response.json();\n//       setJobData(data);\n//       const csvData = JSON.stringify(data, null, 2);\n//       setCsvData(csvData);\n//     } catch (error) {\n//       console.error(\"Error fetching data:\", error);\n//     }\n//   };\n\n//   const downloadCSV = async () => {\n//     try {\n//       const response = await fetch(\"http://127.0.0.1:5003/latest_jobs\");\n//       const ldata = await response.json();\n//       let data = ldata.job_data;\n\n//       const fileName = 'download'\n//       const exportType =  exportFromJSON.types.csv\n\n//       exportFromJSON({ data, fileName, exportType })\n\n\n//     } catch (error) {\n//       console.error(\"Error fetching job data:\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"dashboard\">\n//       <h1>Dashboard</h1>\n//       {userData.length > 0 ? (\n//         <table>\n//           <thead>\n//             <tr>\n//               <th>Date</th>\n//               <th>File Name</th>\n//               <th>Company URL</th>\n//               <th>Download</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {jobData && (\n//               <tr>\n//                 <td>{jobData.date}</td>\n//                 <td>{jobData.filename}</td>\n//                 <td>{jobData.website}</td>\n//                 <td>\n//                   <button onClick={downloadCSV} className=\"btn\">\n//                     Download\n//                   </button>\n//                 </td>\n//               </tr>\n//             )}\n//           </tbody>\n//         </table>\n//       ) : (\n//         <p>Loading Job Data...</p>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Dashboard;\n"],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}